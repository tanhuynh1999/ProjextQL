jQuery(document).ready(function(a){if(a(".passster-submit").on("click",function(t){t.preventDefault(),ps_id=a(this).attr("data-psid"),password=a("#"+ps_id+" .passster-password").attr("data-password"),type=a("#"+ps_id+" .passster-password").attr("data-protection-type"),list=a("#"+ps_id+" .passster-password").attr("data-list"),partly=a("#"+ps_id+" .passster-password").attr("data-partly"),protection=a("#"+ps_id+" .passster-password").attr("data-protection"),input=a("#"+ps_id+" .passster-password").val(),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,input:input,password:password,post_id:ps_ajax.post_id,type:type,list:list,partly:partly,protection:protection},success:function(t){if(!0===t.success)if("on"===ps_ajax.no_ajax)Cookies.set("passster",input,{expires:parseInt(ps_ajax.days)}),window.location.reload(!0);else{"on"===ps_ajax.use_cookie&&Cookies.set("passster",input,{expires:parseInt(ps_ajax.days)}),a(".passster-error").hide();let s=t.content;a.each(ps_ajax.shortcodes,function(a,t){s=s.replace(a,t)}),a("#"+ps_id).replaceWith(s)}else a(".passster-error").text(t.error),a(".passster-error").show()}})}),a(".recaptcha-form-v2").length>0&&grecaptcha.ready(function(){grecaptcha.render("ps-recaptcha-v2",{sitekey:ps_ajax.recaptcha_key,callback:function(t){ps_id=a(".recaptcha-v2-submit").attr("data-psid"),protection=a(".recaptcha-v2-submit").attr("data-protection"),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,token:t,post_id:ps_ajax.post_id,type:"recaptcha",protection:protection},success:function(t){if(!0===t.success)if("on"===ps_ajax.no_ajax)Cookies.set("passster","recaptcha",{expires:parseInt(ps_ajax.days)}),window.location.reload(!0);else{"on"===ps_ajax.use_cookie&&Cookies.set("passster","recaptcha",{expires:parseInt(ps_ajax.days)}),a(".passster-error").hide();let s=t.content;a.each(ps_ajax.shortcodes,function(a,t){s=s.replace(a,t)}),a("#"+ps_id).replaceWith(s)}else a(".passster-error").text(t.error),a(".passster-error").show()}})}})}),a(".recaptcha-form").submit(function(t){t.preventDefault(),grecaptcha.ready(function(){grecaptcha.execute(ps_ajax.recaptcha_key,{action:"validate_input"}).then(function(t){a(".passster-recaptcha-input").prepend('<input type="hidden" name="token" value="'+t+'">'),a(".passster-recaptcha-input").prepend('<input type="hidden" name="action" value="validate_input">'),ps_id=a(".passster-submit-recaptcha").attr("data-psid"),protection=a(".passster-submit-recaptcha").attr("data-protection"),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,token:t,post_id:ps_ajax.post_id,type:"recaptcha",protection:protection},success:function(t){if(!0===t.success)if("on"===ps_ajax.no_ajax)Cookies.set("passster","recaptcha",{expires:parseInt(ps_ajax.days)}),window.location.reload(!0);else{"on"===ps_ajax.use_cookie&&Cookies.set("passster","recaptcha",{expires:parseInt(ps_ajax.days)}),a(".passster-error").hide();let s=t.content;a.each(ps_ajax.shortcodes,function(a,t){s=s.replace(a,t)}),a("#"+ps_id).replaceWith(s)}else a(".passster-error").text(t.error),a(".passster-error").show()}})})})}),a(".passster-captcha-input").length>0){var t=new jCaptcha({el:".passster-captcha-input",canvasClass:"jCaptchaCanvas",canvasStyle:{width:100,height:25,textBaseline:"top",font:"22px Arial",textAlign:"left",fillStyle:"#000"},requiredValue:"",callback:function(t){"success"==t&&(ps_id=a(".passster-submit-captcha").attr("data-psid"),protection=a(".passster-submit-captcha").attr("data-protection"),a.ajax({type:"post",dataType:"json",url:ps_ajax.ajax_url,data:{action:"validate_input",nonce:ps_ajax.nonce,captcha:"success",post_id:ps_ajax.post_id,type:"captcha",protection:protection},success:function(t){if(!0===t.success)if("on"===ps_ajax.no_ajax)Cookies.set("passster","captcha",{expires:parseInt(ps_ajax.days)}),window.location.reload(!0);else{"on"===ps_ajax.use_cookie&&Cookies.set("passster","captcha",{expires:parseInt(ps_ajax.days)}),a(".passster-error").hide();let s=t.content;a.each(ps_ajax.shortcodes,function(a,t){s=s.replace(a,t)}),a("#"+ps_id).replaceWith(s)}else a(".passster-error").text(t.error),a(".passster-error").show()}})),"error"==t&&(a(".captcha-form .passster-error").text(ps_ajax.captcha_error),a(".captcha-form .passster-error").show())}});document.querySelector(".captcha-form").addEventListener("submit",function(a){a.preventDefault(),t.validate()})}});